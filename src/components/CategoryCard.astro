---
import { Icon } from "astro-icon/components";

interface Props {
	name: string;
	count: number;
	url: string;
	icon: string;
	index: number;
}

const { name, count, url, icon, index } = Astro.props;
const rank = index + 1;
const isTop3 = rank <= 3;
---

<a href={url} class="card-base p-6 flex flex-col items-center justify-center hover:scale-[1.02] transition-all duration-300 group relative h-48 gap-4 bg-[var(--card-bg)]">
    {isTop3 && (
        <div class={`absolute top-3 left-3 px-2 py-1 rounded-lg text-xs font-bold ${
            rank === 1 ? "bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400" :
            rank === 2 ? "bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400" :
            "bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400"
        }`}>
            #{rank}
        </div>
    )}
    
    <div class="text-5xl text-black/75 dark:text-white/75 group-hover:text-[var(--primary)] transition-colors">
        <Icon name={icon} />
    </div>
    
    <div class="text-center">
        <div class="font-bold text-xl text-black/90 dark:text-white/90 mb-1">
            {name}
        </div>
        <div class="text-sm text-black/50 dark:text-white/50">
            {count} Articles
        </div>
    </div>
</a>
