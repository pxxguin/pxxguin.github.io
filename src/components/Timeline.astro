---
import type { Experience } from "../data/experience";

interface Props {
	experiences: Experience[];
}

const { experiences } = Astro.props;
---

<div class="relative max-w-5xl mx-auto px-4 py-8">
  <!-- Vertical Line -->
  <div class="absolute left-4 md:left-1/3 top-0 bottom-0 w-px bg-black/10 dark:bg-white/10"></div>

  <div class="flex flex-col gap-12">
    {experiences.map((exp) => (
      <div class="timeline-item group relative flex flex-col md:flex-row gap-8 opacity-0 translate-y-8 transition duration-700 ease-out">
        
        <!-- Date (Desktop) -->
        <div class="hidden md:block w-1/3 text-right pr-12 pt-0.5">
          <span class="text-2xl font-bold text-black/20 dark:text-white/20 group-hover:text-[var(--primary)] transition duration-300">
            {exp.date}
          </span>
        </div>

        <!-- Dot -->
        <div class="absolute left-4 md:left-1/3 w-3 h-3 rounded-full bg-[var(--primary)] -translate-x-[5px] mt-2.5 z-10 ring-4 ring-white dark:ring-[#1e1e1e] transition duration-300 group-hover:scale-150 group-hover:ring-[var(--primary)]/30 group-hover:shadow-[0_0_10px_var(--primary)]"></div>

        <!-- Content -->
        <div class="flex-1 pl-12 md:pl-12 transition duration-300 group-hover:translate-x-2">
          <!-- Date (Mobile) -->
          <span class="md:hidden text-sm font-bold text-[var(--primary)] mb-2 block">
            {exp.date}
          </span>
          
          <div class="flex flex-col gap-2">
            <h3 class="text-2xl font-bold text-black/90 dark:text-white/90 transition duration-300 group-hover:text-[var(--primary)]">
              {exp.title}
            </h3>
            
            <div class="text-lg font-medium text-black/60 dark:text-white/60 mb-2">
              {exp.company}
            </div>
            
            <p class="text-black/70 dark:text-white/70 leading-relaxed max-w-xl">
              {exp.description}
            </p>
          </div>
        </div>

      </div>
    ))}
  </div>
</div>
